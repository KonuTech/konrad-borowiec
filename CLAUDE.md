# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is Konrad Borowiec's personal portfolio website built as a full-stack TypeScript application. It's a React frontend with Express.js backend, featuring sections for projects, books, and contact functionality. The application is currently stateless and doesn't use persistent storage, though it contains database-related code that may be removed in the future.

## Development Commands

### Docker Development (Recommended for WSL)
- `docker-compose up` - Start development environment
- `docker-compose down` - Stop all services
- `docker-compose up --build` - Rebuild and start services
- `docker-compose logs app` - View application logs

### Docker Production
- `docker-compose --profile production up app-prod` - Start production environment

### Native Development Commands
- `npm run dev` - Start development server (runs both frontend and backend via tsx)
- `npm run build` - Build for production (builds React app and bundles server with esbuild)
- `npm run start` - Start production server
- `npm run check` - Run TypeScript type checking

### Environment Setup
**Docker (Default):**
- No external dependencies required
- Environment variables are configured in docker-compose.yml
- Development server accessible at http://localhost:5000

**Native Setup:**
- Requires `SESSION_SECRET` environment variable in production
- Development server runs on port 5000 (serves both API and client)

## Architecture Overview

### Project Structure
- `client/` - React frontend application (Vite + TypeScript + Tailwind CSS)
- `server/` - Express.js backend API
- `shared/` - Shared TypeScript schemas and types (Drizzle + Zod)
- `migrations/` - Database migration files (auto-generated by Drizzle)

### Key Architectural Patterns

**Full-Stack TypeScript**: Shared types and schemas between client and server via the `shared/` directory, ensuring type safety across the entire application.

**Component Architecture**: React components organized by feature areas:
- `components/about/` - About section components (Timeline, TechStack)
- `components/books/` - Book-related components with reading list functionality
- `components/contact/` - Contact form and info components
- `components/projects/` - Project showcase components
- `components/layout/` - Header, Footer, mobile menu, dark mode toggle
- `components/ui/` - Reusable UI components (shadcn/ui based)

**API Design**: RESTful API structure with `/api` prefix:
- `/api/projects` - Project CRUD operations
- `/api/books` - Book management (supports both "read" and "to-read" status)
- `/api/contact` - Contact form submissions

**Data Management**:
- Currently stateless - no persistent storage is used
- Database schema definitions exist in `shared/schema.ts` but are not actively used
- API endpoints may return mock/static data

**Styling System**:
- Tailwind CSS for utility-first styling
- shadcn/ui component library for consistent UI components
- Dark mode support via ThemeContext
- Custom theme configuration via `theme.json` and Replit plugin

### Important Technical Details

**Build System**: Vite for frontend bundling with React plugin, esbuild for server bundling in production. The server serves both API endpoints and static files.

**State Management**: React Query (`@tanstack/react-query`) for server state management, React Context for theme state.

**Routing**: Wouter for client-side routing (lightweight React router alternative).

**Form Handling**: React Hook Form with Zod validation using `@hookform/resolvers`.

**Data Layer**: Contains Drizzle ORM setup and schemas, but currently not connected to any persistent storage.

## Key Dependencies to Know

**Frontend Stack**:
- React 18 + TypeScript
- Vite for bundling and development
- Tailwind CSS + shadcn/ui for styling
- Wouter for routing
- React Query for data fetching
- Framer Motion for animations

**Backend Stack**:
- Express.js with TypeScript
- Zod for validation
- Express sessions with memory store
- Static data serving (no database connectivity)

**Development Tools**:
- tsx for running TypeScript in development
- esbuild for production server bundling
- Docker for containerized development

## Development Notes

- The app serves both frontend and backend on port 5000 in all environments
- Static images are served from `/images` route pointing to `public/images/` directory
- Database schema definitions exist in `shared/schema.ts` but are not currently used for data persistence
- All API responses are logged in development with request duration
- Session management is configured for both development and production environments
- Component library uses shadcn/ui patterns with Radix UI primitives
- Application is currently stateless - consider this when adding features that require data persistence